package com.focusmedica.aqrshell;import android.app.ActionBar;import android.app.Activity;import android.content.res.Configuration;import android.media.MediaPlayer;import android.net.Uri;import android.os.Bundle;import android.util.Log;import android.view.Gravity;import android.widget.ImageView;import android.widget.MediaController;import android.widget.VideoView;public class VideoPlay2Activity extends Activity {    VideoView videoview;    String vdoname,language,titleName;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        // Get the layout from video_main.xml        setContentView(R.layout.videoplay2activity);        // Find your VideoView in your video_main.xml layout        final ActionBar actionBar = getActionBar();        actionBar.setDisplayShowHomeEnabled(false);        actionBar.setDisplayShowTitleEnabled(false);        actionBar.setDisplayOptions(actionBar.getDisplayOptions() | ActionBar.DISPLAY_SHOW_CUSTOM);        ImageView imageView = new ImageView(actionBar.getThemedContext());        imageView.setScaleType(ImageView.ScaleType.CENTER);        imageView.setImageResource(R.drawable.fmlogo);        ActionBar.LayoutParams layoutParams = new ActionBar.LayoutParams(                ActionBar.LayoutParams.WRAP_CONTENT,                ActionBar.LayoutParams.WRAP_CONTENT, Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);        imageView.setLayoutParams(layoutParams);        actionBar.setCustomView(imageView);        videoview = (VideoView) findViewById(R.id.videoView);        // Execute StreamVideo AsyncTask        vdoname=getIntent().getStringExtra("vdoname");        language=getIntent().getStringExtra("language");        titleName=getIntent().getStringExtra("titleName");        System.out.println("checking"+vdoname);        try {            // Start the MediaController            MediaController mediacontroller = new MediaController(VideoPlay2Activity.this);            mediacontroller.setAnchorView(videoview);            // Get the URL from String VideoURL            Uri uri = Uri.parse("data/data/com.focusmedica.aqrshell/files/"+titleName+"/"+language+"/"+vdoname);            //  Uri uri = Uri.parse("android.resource://"+getPackageName()+"/"+R.raw.introduction);            videoview.setMediaController(mediacontroller);            videoview.setVideoURI(uri);        } catch (Exception e) {            Log.e("Error", e.getMessage());            e.printStackTrace();        }        videoview.requestFocus();        videoview.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {            // Close the progress bar and play the video            public void onPrepared(MediaPlayer mp) {                videoview.start();            }        });        videoview.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {            @Override            public void onCompletion(MediaPlayer mp) {                finish();            }        });    }    @Override    public void onConfigurationChanged(Configuration newConfig) {        super.onConfigurationChanged(newConfig);        System.out.println("IN onConfigurationChanged()");    }}